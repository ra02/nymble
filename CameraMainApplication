public class CameraMainApplication {
    public static void main(String[] args) {
        AbstractCameraSystem cameraSystem = new CameraSystem();
        RequestManagementSystem manager = new RequestManagementSystem(cameraSystem);

        Consumer<Image> success = image -> System.out.println(image.getData());
        Consumer<String> failure = error -> System.out.println("Capture failed: " + error);

        manager.submitCaptureRequest(10, success, failure);
        manager.submitCaptureRequest(5, success, failure);
    }
}

class Image {
    private String data;

    public Image(String data) {
        this.data = data;
    }

    public String getData() {
        return data;
    }
}
